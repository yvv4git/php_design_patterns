Поведенческий паттерн.
Состояние / State.

Состояние - это поведенческий паттерн, позволяющий динамически изменять
поведение объекта при смене его состояния.

Иногда этот паттерн используется в php для превращения громоздких стейт-машин,
построенных на операторах switch, в объекты.

Решает следующие проблемы:
+ позволяет объектам менять поведение в зависимости от своего состояния.
+ позволяет менять свое поведение во время выполнения программы и
избавиться от условных операторов, которые разбросаны по коду.

Этот паттерн можно рассматривать в рамках концепции машинных состояний
(стейт машина или конечный автомат). Основная идея в том, что программа
может находится в одном из нескольких состояний. Набор этих состояний
и переходов между ними предопределен и конечен. Находясь в разных состояниях
программа может по-разному реагировать на одни и теже события, которые
происходят с ней.

Например, объект документ может находится в трех состояниях: черновик,
модерация и опубликован. В каждом из этих состояний его метод "Опубликовать"
будет работать по-разному. В первом случае он отправид документ на модерацию.
Во втором - отправит документ на публикацию. А в последнем ничего не будет
делать.

Структура:
1. Контекст.
Хранит ссылку на объект состояния и делегирует ему работу.
2. Состояние.
Описывает общий интерфейс для всех конкретных состояний.
3. Конкретные состояния.
Реализуют поведение, связанное с конкретным состоянием контекста.

Преимущества:
+ избавляет от множества больших условных операторов машинных состояний.
+ концентрирует в одном месте код, связанный с определенным состоянием.
+ упрощает код контекста.

Недостатки:
- может неоправданно усложнить, если состояний мало и они редко меняются.